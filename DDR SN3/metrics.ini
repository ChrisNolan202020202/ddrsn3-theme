[Common]
InitialScreen=InitialScreen()
StepsTypesToHide="dance-threepanel,lights-cabinet"

PercentScoreDecimalPlaces=1

[SongManager]
ExtraStagePlayerModifiers="failimmediate,1.5x,reverse,norecover"
ExtraStageStageModifiers="failimmediate,1.5x,reverse,norecover"
ExtraStageSongModifiers="failimmediate,1.5x,reverse,norecover"
OMESPlayerModifiers="failimmediate,3x,reverse,sudden death"
OMESStageModifiers="failimmediate,3x,reverse,sudden death"
OMESSongModifiers="failimmediate,3x,reverse,sudden death"

ExtraColorMeter=2147483647
NumSongGroupColors = 6
SongGroupColor1 = color "#FFFFFF"
SongGroupColor2 = color "#00CC00"
SongGroupColor3 = color "#FFFF00"
SongGroupColor4 = color "#33CCFF"
SongGroupColor5 = color "#FF00FF"
SongGroupColor6 = color "#FF9933"

[Gameplay]
UseInternalScoring = false
ComboIsPerRow = true
MissComboIsPerRow = true
MinScoreToContinueCombo='TapNoteScore_W3'
MinScoreToMaintainCombo='TapNoteScore_W3'

[ScreenSystemLayer]
CreditsP1X=SCREEN_LEFT+87
CreditsP1Y=SCREEN_BOTTOM-1
CreditsP1OnCommand=vertalign,bottom;shadowlength,0;zoom,0.8

CreditsP2X=SCREEN_RIGHT-93
CreditsP2Y=SCREEN_BOTTOM-1
CreditsP2OnCommand=vertalign,bottom;shadowlength,0;zoom,0.8

###########SCREEN ATTRACT SCREENS#####################
[ScreenAttract]
Class="ScreenAttract"
Fallback="ScreenWithMenuElementsBlank"
StartScreen=Branch.TitleMenu()
CancelScreen=Branch.TitleMenu()
#
LightsMode="LightsMode_Attract"
PlayMusic=false
#
ResetGameState=true
BackGoesToStartScreen=true
AttractVolume=true
#
TimerMetricsGroup="MenuTimerNoSound"
TimerStealth=true
ForceTimer=true
TimerOnCommand=visible,false

[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenWarning"
PrevScreen="ScreenCompany"
TimerMetricsGroup="MenuTimerNoSound"
TimerSeconds=10.5
ForceTimer=true
TimerStealth=true
PlayMusic=true

[ScreenWarning]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenMovie"
PrevScreen="ScreenCompany"
SecondsToShow=11.5

TimerSeconds=11.5
ForceTimer=true
TimerStealth=true

[ScreenMovie]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenLogo"
PrevScreen="ScreenTitleMenu"
TimerSeconds=24
TimerMetricsGroup="MenuTimerNoSound"

[ScreenLogo]
Fallback="ScreenAttract"
NextScreen="ScreenDemonstration"
PlayMusic=true

TimerSeconds=30
ForceTimer=true
TimerStealth=true


[ScreenDemonstration]
NextScreen="ScreenCompany"
PrevScreen="ScreenHowToPlay"
DiffucultiesToShow="easy,medium"

StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
PlayMusic=true
#
SecondsToShow=30
#######################################################################

[ScreenWithMenuElements]
ShowHeader=false
HeaderX=SCREEN_LEFT
HeaderY=SCREEN_TOP+38
HeaderOffCommand=sleep,0.5;decelerate,0.2;addy,-76
HeaderOnCommand=draworder,90;halign,0;addy,-76;sleep,0.2;decelerate,0.2;addy,76

ShowFooter=false
FooterX=SCREEN_RIGHT
FooterY=SCREEN_BOTTOM-26
FooterOnCommand=draworder,80;;halign,1;addy,54;sleep,0.2;decelerate,0.2;addy,-54
FooterOffCommand=decelerate,0.2;addy,54

ShowStyleIcon=false
StyleIconX=SCREEN_RIGHT-161
StyleIconY=SCREEN_TOP+29
StyleIconOffCommand=sleep,0;diffusealpha,0
StyleIconOnCommand=draworder,96;diffusealpha,0;sleep,0.792;diffusealpha,1

TimerX=SCREEN_RIGHT-50
TimerY=SCREEN_TOP+50
TimerOnCommand=draworder,96;zoom,0.8;shadowlength,0;addy,-76;sleep,0.2;decelerate,0.2;addy,76
TimerOffCommand=linear,0.1;zoom,0

[MenuTimer]
# todo: fix
MaxStallSeconds=8

Text1OnCommand=stopeffect;stoptweening;shadowlength,0;x,-15;
Text1FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.floor(fSeconds/10); return ""..digit end
Text1OffCommand=settext," "
Text2OnCommand=stopeffect;stoptweening;shadowlength,0;x,15;
Text2FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.mod(fSeconds,10); return ""..digit end
Text2OffCommand=settext," "

# xxx: is it 10 or is it 5?
WarningBeepStart=5
WarningStart=6
# warning commands rule, not
Warning6Command=stoptweening;sleep,0.8;linear,0.2;zoomx,0
Warning5Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning4Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning3Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning2Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning1Command=stoptweening;zoomx,0;linear,0.2;zoomx,1;sleep,0.6;linear,0.2;zoomx,0
Warning0Command=stoptweening;linear,0.2;zoomx,1;cropbottom,1;addy,30;linear,0.2;addy,-30;


[MenuTimerNoSound]
Fallback="MenuTimer"
HurryUpTransition=0
WarningBeepStart=0

[ScreenOptions]
ShowHeader=true
ShowFooter=true

NumRowsShown=5
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-159)+(30*offsetFromCenter)) \
end
OptionRowNormalMetricsGroup="OptionRowService"

PageOnCommand=
PageOffCommand=
ContainerOnCommand=addx,-SCREEN_WIDTH;accelerate,0.5;addx,SCREEN_WIDTH
ContainerOffCommand=sleep,1;accelerate,0.5;addx,SCREEN_WIDTH
OptionRowNormalMetricsGroup="OptionRow"
CursorTweenSeconds=0.15

[OptionsCursor]

[OptionsCursorP1]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_1);zoom,0
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_1);zoom,0
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_1);zoom,0

[OptionsCursorP2]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_2);zoom,0
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_2);zoom,0
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_2);zoom,0

[OptionsUnderline]

[OptionsUnderlineP1]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_1);zoomy,0.5
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_1);zoomy,0.5
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_1);zoomy,0.5

[OptionsUnderlineP2]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_2);zoomy,0.5
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_2);zoomy,0.5
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_2);zoomy,0.5


[ScreenOptionsService]
NumRowsShown=7
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-159)+(30*offsetFromCenter)) \
end

ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_BOTTOM-93
ExplanationTogetherOnCommand=shadowlength,0;zoom,0.62;wrapwidthpixels,1000;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

[OptionRow]
TitleX=SCREEN_CENTER_X-205
TitleY=
TitleOnCommand=zoom,0.5
TitleGainFocusCommand=diffuse,color("#14FE00");
TitleLoseFocusCommand=diffuse,color("#ffffff");

ItemsStartX=SCREEN_CENTER_X-110
ItemsEndX=SCREEN_CENTER_X-110

ItemsGapX=14
ItemsMinBaseZoom=1
ItemOnCommand=uppercase,true;shadowlength,0;zoom,0.5
ItemGainFocusCommand=
ItemLoseFocusCommand=

ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X

ColorSelected=color("#14FE00")
ColorNotSelected=color("#ffffff")
ColorDisabled=color("0.5,0.5,0.5,1")

[OptionRowService]
TitleX=SCREEN_LEFT
TitleY=
FrameX=
FrameY=
TitleOnCommand=halign,0;shadowlength,1;maxwidth,600;zoom,0.5
TitleGainFocusCommand=
TitleLoseFocusCommand=

FrameGainFocusCommand=diffuse,color("1,1,1,1")
FrameLoseFocusCommand=diffuse,color("0.375,0.5,0,1")

ItemsStartX=SCREEN_LEFT
ItemsEndX=SCREEN_CENTER_X+320

ItemsGapX=12
ItemsMinBaseZoom=2.5
ItemOnCommand=uppercase,true;shadowlength,0;zoom,0.9;halign,0
ItemGainFocusCommand=diffuse,color("1,1,1,1");
ItemLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X

################################################################################
[ScreenOptionsServiceChild]
ShowFooter=false
ShowHelp=true
WaitForChildrenBeforeTweeningOut=true

NumRowsShown=5
SeparateExitRow=false

ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_BOTTOM-75
ExplanationTogetherOnCommand=shadowlength,0;zoom,0.45;wrapwidthpixels,1300;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening


[OptionRowService]
TitleX=SCREEN_LEFT+25
TitleY=-1
TitleOnCommand=halign,0;shadowlength,1;maxwidth,600;zoom,0.5
TitleGainFocusCommand=diffuse,color("1,1,1,1");diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");
TitleLoseFocusCommand=stopeffect;diffuse,color("0.334,0.334,0.334,1")

FrameGainFocusCommand=diffuse,color("1,1,1,1")
FrameLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1")

[OptionRowExit]
FrameOnCommand=visible,true;diffuse,Color("Red");zoomy,0.6
FrameX=SCREEN_CENTER_X

ItemsMinBaseZoom=1
ItemOnCommand=shadowlength,1;zoom,0.5;diffuse,Color("White")
ItemGainFocusCommand=diffuse,Color("Red")
ItemLoseFocusCommand=diffuse,Color("White")
ColorSelected=Color("Red")
ColorNotSelected=Color("White")
ColorDisabled=Color("Red")

ItemsLongRowP1X=SCREEN_CENTER_X-1024
ItemsLongRowP2X=SCREEN_CENTER_X+1024
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowExitPlayer]
Fallback="OptionRow"
FrameOnCommand=visible,false
TitleOnCommand=visible,false
ItemOnCommand=visible,false

###############################################################################
[OptionRowPlayer]
Fallback="OptionRow"
ShowModIcons=false
ShowUnderlines=false

ModIconP1X=SCREEN_CENTER_X-302
ModIconP2X=SCREEN_CENTER_X-302
ModIconOnCommand=draworder,2;addx,-640;sleep,0.317;decelerate,0.766;addx,640
ModIconOffCommand=accelerate,0.783;addx,-640

TitleX=SCREEN_CENTER_X
TitleY=
TitleOnCommand=zoom,0.5
TitleGainFocusCommand=diffuse,color("1,1,1,1");
TitleLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

FrameX=SCREEN_CENTER_X-180
FrameY=
FrameGainFocusCommand=diffuse,color("1,1,1,1");
FrameLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

ItemsStartX=SCREEN_CENTER_X-120
ItemsEndX=SCREEN_CENTER_X-120

ItemsGapX=0
ItemsMinBaseZoom=0.5
ItemOnCommand=uppercase,true;shadowlength,0;zoom,0.5;strokecolor,color("#1c701a")
ItemGainFocusCommand=
ItemLoseFocusCommand=

ItemsLongRowP1X=SCREEN_CENTER_X-200
ItemsLongRowP2X=SCREEN_CENTER_X+200
ItemsLongRowSharedX=SCREEN_CENTER_X

ColorSelected=color("1,1,1,1")
ColorNotSelected=color("0.34,0.34,0.34,1")
ColorDisabled=color("0.34,0.34,0.34,1")

[ModIcon]
TextOnCommand=zoom,0.5;maxwidth,70;uppercase,true;shadowlength,0;
CropTextToWidth=32
StopWords="1X,default,Overhead,Off"

[OptionRowPlayerP1]
Fallback="ModIcon"
ModIconMetricsGroup="OptionRowPlayerP1"
TextX=41
TextY=9
TextOnCommand=zoom,1;maxwidth,36;uppercase,true;valign,1;halign,1
NumModIcons=7
SpacingX=80
SpacingY=0

[OptionRowPlayerP2]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="OptionRowPlayerP2"


[ScreenPlayerOptions]
ShowFooter=true
ShowHeader=true
ShowHelp=false
WaitForChildrenBeforeTweeningOut=true

NumRowsShown=12
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-159)+(21*offsetFromCenter)) \
end

ExplanationP1X=SCREEN_CENTER_X-280
ExplanationP1Y=SCREEN_CENTER_Y+135
ExplanationP2X=(SCREEN_CENTER_X*1.425)-999
ExplanationP2Y=SCREEN_BOTTOM-84

LineHighlightP1OnCommand=draworder,-2
LineHighlightP1ChangeCommand=visible,true
LineHighlightP1ChangeToExitCommand=visible,false
LineHighlightP2OnCommand=draworder,-2
LineHighlightP2ChangeCommand=visible,true
LineHighlightP2ChangeToExitCommand=visible,false

ExplanationP1OnCommand=zoom,0.55;wrapwidthpixels,494;horizalign,left;strokecolor,Color("Black")

NumRowsShown=12
OptionRowNormalMetricsGroup="OptionRowPlayer"

# speed, accel, appear, turn, scroll, noteskin, freeze, little, dark,
# judge, steps, persp, foon, asso-, (^^), chars
LineNames="1,2,3,4,5,6,7,10,8,9,"
Line1="list,Speed"
Line2="list,Accel"
Line3="list,Appearance"
Line4="list,Turn"
Line5="list,Dark"
Line6="list,Scroll"
Line7="list,NoteSkins"
Line8="list,Freeze"
Line9="list,Jump"
List10="list,Little"
Line16="list,Characters"

ShowExitRow=false
SeparateExitRow=false

[ScreenPlayerOptionsRestricted]
Fallback="ScreenPlayerOptions"
NextScreen="ScreenStageInformation"
LineNames="1,16,17"
Line16="list,StepsLocked"
Line17="list,Characters"

[ScreenPlayerOptionsPopup]
Fallback="ScreenPlayerOptions"
ShowHeader=false
ShowFooter=false
TimerStealth=true
NavigationMode="normal"
TimerSeconds=-1

MoreX=SCREEN_CENTER_X+200
MoreY=SCREEN_CENTER_Y+50
MoreOnCommand=
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=
##################################################################################
[ScreenOptionsMaster]
# player options

Speed="6"
SpeedDefault="mod,1x,no randomspeed"
Speed,1="mod,1x;name,x1"
Speed,2="mod,1.5x;name,x1.5"
Speed,3="mod,2x;name,x2"
Speed,4="mod,3x;name,x3"
Speed,5="mod,5x;name,x5"
Speed,6="mod,8x;name,x8"

Accel="2"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang"
Accel,1="name,Off"
Accel,2="mod,boost;name,On"
#Accel,3="mod,brake;name,Brake"
#Accel,4="mod,wave;name,Wave"
#Accel,5="mod,expand;name,Expand"
#Accel,6="mod,boomerang;name,Boomerang"

Appearance="4"
AppearanceDefault="mod,no hidden,no sudden,no stealth,no blink,no randomvanish"
Appearance,1="name,Visible"
Appearance,2="mod,hidden;name,Hidden"
Appearance,3="mod,sudden;name,Sudden"
Appearance,4="mod,stealth;name,Stealth"
#Appearance,5="mod,blink;name,Blink"

Turn="5"
TurnDefault="mod,no turn"
Turn,1="name,Off"
Turn,2="mod,mirror;name,Mirror"
Turn,3="mod,left;name,Left"
Turn,4="mod,right;name,Right"
Turn,5="mod,shuffle;name,Shuffle"
#Turn,6="mod,supershuffle;name,SuperShuffle"

Dark="2"
DarkDefault="mod,no dark"
Dark,1="name,Off"
Dark,2="mod,dark;name,On"

Scroll="2"
ScrollDefault="mod,no reverse,no split,no alternate,no cross"
Scroll,1="name,Standard"
Scroll,2="mod,reverse;name,Reverse"
#Scroll,3="mod,split;name,Split"
#Scroll,4="mod,alternate;name,Alternate"
#Scroll,5="mod,cross;name,Cross"

Freeze="2"
FreezeDefault="mod,no noholds,no planted,no twister,no nojumps,no nohands"
Freeze,1="mod,noholds;name,Off"
Freeze,2="name,On"

Jump="2"
JumpDefault="mod,no noholds,no planted,no twister,no nojumps,no nohands"
Jump,1="mod,nojumps;name,Off"
Jump,2="name,On"

Little="2"
LittleDefault="mod,no little"
Little,1="mod, nolittle;name,Off"
Little,2="name,On"

Judge="2"
JudgeDefault="mod,no blind"
Judge,1="mod,blind;name,Off"
Judge,2="name,On"

Persp="5"
PerspDefault="mod,overhead"
Persp,1="mod,incoming;name,Incoming"
Persp,2="mod,overhead;name,Overhead"
Persp,3="mod,space;name,Space"
Persp,4="mod,hallway;name,Hallway"
Persp,5="mod,distant;name,Distant"

Foon="5"
FoonDefault="mod,no dizzy,no flip,no mini,no bumpy"
Foon,1="name,Off"
Foon,2="mod,dizzy;name,Dizzy"
Foon,3="mod,mini;name,Mini"
Foon,4="mod,flip;name,Flip"
Foon,5="mod,bumpy;name,Bumpy"

Asso="4"
AssoDefault="mod,no drunk,no tipsy,no beat"
Asso,1="name,Off"
Asso,2="mod,drunk;name,Drunk"
Asso,3="mod,tipsy;name,Tipsy"
Asso,4="mod,beat;name,Beat"

YAMAZAKI="2"
YAMAZAKIDefault="mod,no tornado"
YAMAZAKI,1="name,Off"
YAMAZAKI,2="mod,Tornado;name,On"
###################################################################################
[ScreenTitleJoin]
# coin message
CoinMessageX=SCREEN_CENTER_X
CoinMessageY=SCREEN_CENTER_Y+120
CoinMessageOnCommand=diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");effectperiod,0.3
CoinMessageOffCommand=

# premium message
PremiumX=SCREEN_CENTER_X
PremiumY=SCREEN_CENTER_Y+160
PremiumOnCommand=
PremiumOffCommand=

FreeplayX=SCREEN_CENTER_X
FreeplayY=SCREEN_CENTER_Y+120
FreeplayOnCommand=diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");effectperiod,1.5

# things from ScreenTitleMenu
ScrollerOnCommand=visible,false
SongsOnCommand=visible,false
VersionOnCommand=visible,false
WarningOnCommand=visible,false

[ScreenUnimplemented]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
ShowHeader=true
ShowFooter=true
ShowStyleIcon=false
ShowHelp=false
TimerSeconds=20

ChoiceNames="Title,PlayMode"
DefaultChoice="PlayMode"

ChoiceTitle="name,Title;screen,ScreenTitleMenu"
ChoicePlayMode="name,PlayMode;screen,ScreenSelectPlayMode"

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=true

ShowScroller=false
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y+120
ScrollerOnCommand=

IconChoiceTitleX=SCREEN_CENTER_X-120
IconChoiceTitleY=SCREEN_CENTER_Y+120
IconChoiceTitleGainFocusCommand=zoom,1.25
IconChoiceTitleLoseFocusCommand=zoom,1

IconChoicePlayModeX=SCREEN_CENTER_X+120
IconChoicePlayModeY=SCREEN_CENTER_Y+120
IconChoicePlayModeGainFocusCommand=zoom,1.25
IconChoicePlayModeLoseFocusCommand=zoom,1

[ScreenTitleMenu]
PrevScreen="ScreenCompany"
NextScreen="ScreenWarning"

ChoiceNames="Game,Edit,Options,Exit"
ChoiceGame="applydefaultoptions;text,GAME MODE;screen,"..Branch.StartGame()
ChoiceEdit="text,EDIT MODE;screen,"..Branch.OptionsEdit()
ChoiceOptions="screen,ScreenOptionsService;text,OPTIONS"
ChoiceExit="screen,ScreenExit;text,EXIT"

ScrollerX=SCREEN_RIGHT-180
ScrollerY=SCREEN_CENTER_Y-115
ScrollerOnCommand=zoom,1;diffuse,color("#009900");addx,300;shadowlength,2;linear,0.264;diffuse,color("#009900");addx,-300
ScrollerOffCommand=linear,0.3;cropright,1

ScrollerSecondsPerItem=0
ScrollerNumItemsToDraw=12
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(28*(itemIndex-(numItems-1)/2)); end

[ScreenCaution]
Class="ScreenSplash"
Fallback="ScreenSplash"
PrepareScreens="ScreenSelectStyle","ScreenSelectPlayMode","ScreenSelectMusic"
NextScreen="ScreenSelectStyle"
PrevScreen=Branch.TitleMenu()
AllowStartToSkip=true

ForceTimer=true
TimerStealth=true
TimerSeconds=3.5

[ScreenSelectStyle]
ShowHeader=true
ShowFooter=true

ChoiceNames=StyleChoices()
DefaultChoice="1"

Choice1="style,single;name,Single;screen,"..Branch.AfterSelectStyle()
Choice2="style,versus;name,Versus;screen,"..Branch.AfterSelectStyle()
Choice3="style,double;name,Double;screen,"..Branch.AfterSelectStyle()

ShowScroller=true
PerChoiceScrollElement=true
ScrollerX=
ScrollerY=
ScrollerOnCommand=

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=true

IconChoiceSingleX=
IconChoiceSingleY=
IconChoiceSingleOnCommand=draworder,99
IconChoiceVersusX=
IconChoiceVersusY=
IconChoiceVersusOnCommand=draworder,99
IconChoiceDoubleX=
IconChoiceDoubleY=
IconChoiceDoubleOnCommand=draworder,99
IconChoiceCoupleX=
IconChoiceCoupleY=
IconChoiceCoupleOnCommand=draworder,99
IconChoiceSoloX=
IconChoiceSoloY=
IconChoiceSoloOnCommand=draworder,99

[ScreenSelectPlayMode]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
ShowHeader=true
ShowFooter=true
ShowStyleIcon=true
ShowHelp=false
TimerSeconds=20

# Choice list:
# Arcade	Beginner, Easy, Medium, Hard, Nonstop, Oni
# Home		Beginner, Easy, Medium, Hard, Nonstop, Oni, Endless, Rave
ChoiceNames=ModeChoices()
DefaultChoice="Normal"
NumChoicesOnPage1=3

Choice1="name,Beginner;playmode,regular;difficulty,beginner;screen,"..Branch.InstructionsNormal()
Choice2="name,Normal;playmode,regular;difficulty,easy;screen,"..Branch.InstructionsNormal()
Choice3="name,Oni;playmode,oni;screen,"..Branch.InstructionsCourse()
Choice4="name,Battle;playmode,rave;screen,"..Branch.InstructionsNormal()
Choice5="name,Endless;playmode,endless;screen,"..Branch.InstructionsCourse()

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=true

ShowScroller=false

# xxx: all positions need fixing

#- page 1 -#
IconChoiceBeginnerX=
IconChoiceBeginnerY=
IconChoiceBeginnerOnCommand=
IconChoiceBeginnerSwitchToPage1Command=accelerate,0.5;addx,SCREEN_WIDTH
IconChoiceBeginnerSwitchToPage2Command=accelerate,0.5;addx,-SCREEN_WIDTH
#--#
IconChoiceNormalX=
IconChoiceNormalY=
IconChoiceNormalOnCommand=
IconChoiceNormalSwitchToPage1Command=accelerate,0.5;addx,SCREEN_WIDTH
IconChoiceNormalSwitchToPage2Command=accelerate,0.5;addx,-SCREEN_WIDTH
#--#
IconChoiceOniX=
IconChoiceOniY=
IconChoiceOniOnCommand=
IconChoiceOniSwitchToPage1Command=accelerate,0.5;addx,SCREEN_WIDTH
IconChoiceOniSwitchToPage2Command=accelerate,0.5;addx,-SCREEN_WIDTH
#--#
IconChoiceBattleX=
IconChoiceBattleY=
IconChoiceBattleOnCommand=addx,SCREEN_WIDTH
IconChoiceBattleSwitchToPage1Command=accelerate,0.5;addx,SCREEN_WIDTH
IconChoiceBattleSwitchToPage2Command=accelerate,0.5;addx,-SCREEN_WIDTH
#--#
IconChoiceEndlessX=
IconChoiceEndlessY=
IconChoiceEndlessOnCommand=addx,SCREEN_WIDTH
IconChoiceEndlessSwitchToPage1Command=accelerate,0.5;addx,SCREEN_WIDTH
IconChoiceEndlessSwitchToPage2Command=accelerate,0.5;addx,-SCREEN_WIDTH

[ScreenInstructions]
Fallback="ScreenSplash"
NextScreen=Branch.AfterInstructions()
PrevScreen=Branch.TitleMenu()
WaitForChildrenBeforeTweeningOut=true
AllowStartToSkip=true
TimerSeconds=4.5
TimerStealth=true
ForceTimer=true
ShowStyleIcon=false
ShowHeader=false
ShowFooter=false
ShowHelp=true

[ScreenSelectMusic]
UsePlayerSelectMenu=true
SelectMenuAvailable=true
SelectMenuScreenName="ScreenPlayerOptionsPopup"
TimerSeconds=90

ShowHeader=true
HeaderY=SCREEN_TOP+38
HeaderOffCommand=decelerate,0.2;addy,-76
HeaderOnCommand=draworder,88;halign,0;addy,-76;sleep,0.264;decelerate,0.2;addy,76

ExplanationX=SCREEN_LEFT+163
ExplanationY=SCREEN_CENTER_Y+141
ExplanationOnCommand=draworder,1;cropright,1;sleep,0.264;sleep,0.6;linear,0.4;cropright,0
ExplanationOffCommand=sleep,0.033;accelerate,0.363;x,-237

ShowNewSong=not GAMESTATE:IsCourseMode()
NewSongX=SCREEN_RIGHT-310
NewSongY=SCREEN_CENTER_Y-50
NewSongOnCommand=draworder,106;addx,SCREEN_WIDTH/640*328;sleep,0.412;linear,0.196;addx,-(SCREEN_WIDTH/640*328)
NewSongOffCommand=sleep,0.020;linear,0.255;addx,SCREEN_WIDTH/640*328
NewSongShowCommand=finishtweening;diffusealpha,1
NewSongHideCommand=finishtweening;;diffusealpha,0;stopeffect;

ShowStyleIcon=true
StyleIconX=SCREEN_LEFT+33
StyleIconY=SCREEN_CENTER_Y-83
StyleIconOnCommand=draworder,90;addx,-400;sleep,0.264;decelerate,0.52;addx,400
StyleIconOffCommand=sleep,0.033;accelerate,0.33;addx,-400

ShowHelp=false
DoRouletteOnMenuTimer=true

ShowFooter=true
FooterX=SCREEN_RIGHT
FooterY=SCREEN_BOTTOM-26
FooterOnCommand=draworder,80;halign,1;addy,54;sleep,0.264;decelerate,0.2;addy,-54
FooterOffCommand=decelerate,0.2;addy,54

ShowDifficultyList=not GAMESTATE:IsCourseMode();
DifficultyListX=SCREEN_LEFT+120
DifficultyListY=SCREEN_CENTER_Y+100
DifficultyListOnCommand=zoom,0.85;draworder,90;addx,-400;sleep,0.32;addx,400
DifficultyListStartSelectingStepsMessageCommand=finishtweening;accelerate,0.2;zoom,1.1;decelerate,0.2;zoom,1;
DifficultyListOffCommand=sleep,0.033;accelerate,0.363;addx,-400

#MusicWheel
MusicWheelX=SCREEN_RIGHT-166
MusicWheelY=SCREEN_CENTER_Y-16
MusicWheelOnCommand=rotationy,30;zoomx,1.16;addx,SCREEN_WIDTH/640*328;sleep,0.412;linear,0.196;addx,-(SCREEN_WIDTH/640*328)
MusicWheelOffCommand=sleep,0.020;linear,0.255;addx,SCREEN_WIDTH/640*328

#Player Mod Icons
ShowModIcons=false
ModIconsP1X=SCREEN_LEFT+5
ModIconsP1Y=SCREEN_BOTTOM-37
ModIconsP1OnCommand=draworder,2;addx,-400;sleep,0.264;sleep,0.139;decelerate,0.33;addx,400
ModIconsP1OffCommand=sleep,0.033;accelerate,0.363;addx,-400
ModIconsP2X=SCREEN_LEFT+169
ModIconsP2Y=SCREEN_BOTTOM-37
ModIconsP2OnCommand=draworder,2;addx,-400;sleep,0.264;sleep,0.139;decelerate,0.33;addx,400
ModIconsP2OffCommand=sleep,0.033;accelerate,0.363;addx,-400

#Banner
BannerFrameX=SCREEN_LEFT+152
BannerFrameY=SCREEN_CENTER_Y-58
BannerFrameOnCommand=draworder,1;cropbottom,0.55;addx,-400;sleep,0.264;decelerate,0.52;addx,400;sleep,0.1;linear,0;cropbottom,0
BannerFrameOffCommand=sleep,0.033;accelerate,0.33;addx,-400

BannerX=SCREEN_LEFT+141
BannerY=SCREEN_CENTER_Y-139
BannerOnCommand=draworder,22;scaletoclipped,256,80;addx,-400;sleep,0.264;decelerate,0.52;addx,400
BannerOffCommand=sleep,0.033;accelerate,0.33;addx,-400

#CDTitle
CDTitleX=SCREEN_LEFT+250
CDTitleY=SCREEN_CENTER_Y-120
CDTitleOnCommand=draworder,99;zoom,0.5;addx,-280;sleep,0.450;linear,0.267;addx,274;linear,0.05;addx,-6;decelerate,0.116;addx,12;decelerate,0.067;addx,-4;decelerate,0.1;addx,4
CDTitleOffCommand=accelerate,0.316;addx,-280
CDTitleFrontCommand=spin;effectmagnitude,0,180,0;cullmode,'CullMode_Back'
CDTitleBackCommand=spin;effectmagnitude,0,180,0;cullmode,'CullMode_Front';diffuse,color("#333333")
CDTitleSpinSeconds=2.16

#StageDisplay
ShowStageDisplay=true
StageDisplayX=SCREEN_LEFT+200
StageDisplayY=SCREEN_CENTER_Y-82
StageDisplayOnCommand=draworder,5;addx,-400;sleep,0.264;decelerate,0.52;addx,400
StageDisplayOffCommand=sleep,0.033;accelerate,0.33;addx,-400

#BPMDisplay
ShowBPMDisplay=not GAMESTATE:IsCourseMode();
BPMDisplayX=SCREEN_LEFT+35
BPMDisplayY=SCREEN_CENTER_Y+59
BPMDisplayOnCommand=draworder,5;addx,-400;sleep,0.264;sleep,0.52;addx,400;zoom,0.65
BPMDisplayOffCommand=sleep,0.033;accelerate,0.33;addx,-400

#SortDisplay
ShowSortDisplay=true
SortDisplayX=SCREEN_RIGHT-(SCREEN_WIDTH/6)
SortDisplayY=SCREEN_CENTER_Y-220
SortDisplayOnCommand=addx,380;draworder,89;sleep,0.264;sleep,0.558;decelerate,0.231;addx,-380
SortDisplayOffCommand=accelerate,0.396;addx,380

#GrooveRadar
ShowGrooveRadar=not GAMESTATE:IsCourseMode();
GrooveRadarX=SCREEN_LEFT+197
GrooveRadarY=SCREEN_CENTER_Y+16
GrooveRadarOnCommand=draworder,2;diffusealpha,0;addx,-400;sleep,0.1;linear,0.52;diffusealpha,0;addx,400;sleep,0.3;diffusealpha,1
GrooveRadarOffCommand=sleep,0.033;accelerate,0.33;addx,-400

#SongOptions
# Done in Lua
ShowSongOptions=true
SongOptionsX=SCREEN_LEFT+20
SongOptionsY=SCREEN_CENTER_Y-60
SongOptionsOnCommand=halign,0;zoom,0.5;shadowlength,2;diffusealpha,0;linear,0.5;diffusealpha,1
SongOptionsOffCommand=linear,0.5;diffusealpha,0

#StepsDisplay

#Balloon
BalloonX=SCREEN_RIGHT-240
BalloonY=SCREEN_CENTER_Y-97
BalloonOnCommand=halign,1;;draworder,99;zoomy,0;sleep,0.264;sleep,0.558;decelerate,0.231;zoomy,1;bob;effectmagnitude,0,5,0
BalloonOffCommand=accelerate,0.231;zoomy,0
BalloonShowCommand=diffusealpha,1
BalloonHideCommand=diffusealpha,0

#Score
ScoreFrameP1X=SCREEN_RIGHT-165
ScoreFrameP1Y=SCREEN_CENTER_Y-16
ScoreFrameP1OnCommand=addx,380;sleep,0.6;decelerate,0.34;addx,-380
ScoreFrameP1OffCommand=sleep,0.016;accelerate,0.25;addx,380
ScoreFrameP2X=SCREEN_RIGHT-165
ScoreFrameP2Y=SCREEN_CENTER_Y-16
ScoreFrameP2OnCommand=addx,380;sleep,0.6;decelerate,0.34;addx,-380
ScoreFrameP2OffCommand=sleep,0.016;accelerate,0.25;addx,380

ShowScore=true
ScoreP1X=SCREEN_RIGHT-127
ScoreP1Y=SCREEN_CENTER_Y-41
ScoreP1OnCommand=diffuse,color("#FFFFFF");addx,380;sleep,0.264;sleep,0.558;decelerate,0.231;addx,-380
ScoreP1OffCommand=accelerate,0.396;addx,380
ScoreP2X=SCREEN_RIGHT-127
ScoreP2Y=SCREEN_CENTER_Y+10
ScoreP2OnCommand=diffuse,color("#FFFFFF");addx,380;sleep,0.264;sleep,0.558;decelerate,0.231;addx,-380
ScoreP2OffCommand=accelerate,0.396;addx,380

[MusicWheel]
ShowRandom=true
ShowRoulette=true
ShowPortal=false


RouletteColor=color("#FFFFFF")
RandomColor=color("#FFFFFF")

LockedInitialVelocity=9

NumWheelItems=13

# 3.9-style metrics used in the wheel transform
ItemCurveX=32
ItemSpacingY=60
Wheel3DRadius=220
CirclePercent=0.5
CenterPaddingY = 5
 
# 3d music wheel
ItemTransformFunction=function(self,offsetFromCenter,_fake1,_fake2) \
	local numItems = THEME:GetMetric("MusicWheel","NumWheelItems")\
	local curve3D = THEME:GetMetric("MusicWheel", "CirclePercent")*4*math.pi \
	local fRotX = scale(offsetFromCenter, -numItems/2,numItems/2, -curve3D/2,curve3D/2) \
	local radius = THEME:GetMetric("MusicWheel","Wheel3DRadius") \
	local curveX = THEME:GetMetric("MusicWheel","ItemCurveX") \
	local spacingY = THEME:GetMetric("MusicWheel","ItemSpacingY") \
	local paddingY = THEME:GetMetric("MusicWheel", "CenterPaddingY") \
	self:x( (1-math.cos(offsetFromCenter/math.pi))*curveX ) \
	self:y( (offsetFromCenter*scale(math.abs(offsetFromCenter), 0,numItems/2, spacingY,spacingY*math.sin(0.675))) \
	+ clamp(offsetFromCenter,-1, 1)*paddingY ) \
	self:z( -15*math.abs(offsetFromCenter*2.5) ) \
	self:rotationx((offsetFromCenter*20) * math.sin(180/math.pi)) \
end

MusicWheelItemSortOnCommand=addx,SCREEN_CENTER_X;sleep,0.15;decelerate,0.15;addx,-SCREEN_CENTER_X;
MusicWheelItemSortOffCommand=accelerate,0.15;addx,SCREEN_CENTER_X
MusicWheelItemOnDelayOffset=0.041

HighlightOnCommand=draworder,-1;addx,330;sleep,0.6;decelerate,0.34;addx,-330



ScrollBarHeight=SCREEN_CENTER_Y+86
ScrollBarOnCommand=draworder,99;x,156

NumSectionColors=1
SectionColor1=color("#FFFF20")

SortMenuColor=color("#FFFF20")

UseSectionsWithPreferredGroup=false

# xxx: ChallengeMeter,Genre,Length,Recent aren't in foonmix, but I'd like them
# to stick around anyways.
SortOrders={ "SortOrder_Group", "SortOrder_Title", "SortOrder_BPM", "SortOrder_TopGrades" }

ModeMenuChoiceNames="Group,Title,Bpm,Popularity,TopGrades,Artist,EasyMeter,MediumMeter,HardMeter,ChallengeMeter,Genre,Length"

[MusicWheelItem]
WheelNotifyIconX=-155
WheelNotifyIconY=0
WheelNotifyIconOnCommand=

SongNameX=-140
SongNameOnCommand=zoom,0.8

SectionCollapsedX=-16
SectionCollapsedOnCommand=zoom,1.0;maxwidth,256
SectionExpandedX=-16
SectionExpandedOnCommand=zoom,1.0;maxwidth,256

ShowSectionCount=false
SectionCountX=999
SectionCountY=0
SectionCountOnCommand=halign,1;zoom,0.75

RouletteX=-130
RouletteY=0
RouletteOnCommand=zoom,1;uppercase,true;halign,0

RandomX=-130
RandomY=0
RandomOnCommand=zoom,1;uppercase,true;halign,0

CourseX=-130
CourseY=0
CourseOnCommand=halign,0;maxwidth,198;

SortX=-130
SortY=0
SortOnCommand=shadowlength,0;zoom,1.4;halign,0

GradeP1X=118
GradeP1Y=-20
GradeP2X=118
GradeP2Y=0

[TextBanner]
TitleOnCommand=halign,0;wrapwidthpixels,2^24
SubtitleOnCommand=halign,0;wrapwidthpixels,2^24
ArtistOnCommand=halign,0;wrapwidthpixels,2^24
ArtistPrependString=""
AfterSetCommand=%TextBannerAfterSet

[TextBannerGameplay]
TitleOnCommand=halign,0;wrapwidthpixels,2^24
SubtitleOnCommand=halign,0;wrapwidthpixels,2^24
ArtistOnCommand=halign,0;wrapwidthpixels,2^24
ArtistPrependString=""
AfterSetCommand=%TextBannerGameplayAfterSet

[WheelNotifyIcon]
ShowTraining=true

[BPMDisplay]
NoBpmText="000"
ShowQMarksInRandomCycle = false

Cycle=1
SetNoBpmCommand=diffuse,color("#009500")
SetNormalCommand=diffuse,color("#009500")
SetChangeCommand=diffuse,color("#009500")
SetRandomCommand=diffuse,color("1,0,0,1")
SetExtraCommand=diffuse,color("1,0,0,1")

[DifficultyList]
ItemsSpacingY=24
NumShownItems=8

[StepsDisplayListRow]
# TODO: Make this use DifficultyList?
CapitalizeDifficultyNames=false
NumShownItems=5
ItemsSpacingY=24
MoveCommand=decelerate,0.05

FrameX=

FrameSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(ColorMidTone( CustomDifficultyToColor(param.CustomDifficulty) )); \
	else \
		self:diffuse(color('1,1,1,1')); \
	end; \
end;
#
NumTicks=10
MaxTicks=10
#
ShowMeter=true
MeterX=56
MeterOnCommand=shadowlength,1;zoom,0.65;textglowmode,'TextGlowMode_Inner';
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 10 then \
			self:textglowmode('TextGlowMode_Inner'); \
			self:glowshift(); \
		else \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=false
DescriptionX=ThemePrefs.Get("AutoSetStyle") and (-64-8+20) or (-64-8)
DescriptionOnCommand=shadowlength,1;horizalign,left;zoom,0.65;maxwidth,128+8-20;uppercase,true;
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowAutogen=true
AutogenX=0
AutogenY=0
AutogenOnCommand=diffuseshift;effectcolor1,Color.Alpha( Color("Green") , 0.5 );effectcolor2,ColorMidTone( Color("Green") );
#AutogenOnCommand=zoom,0.75;
#
ShowStepsType=ThemePrefs.Get("AutoSetStyle")
StepsTypeX=-64-8
StepsTypeY=0
StepsTypeOnCommand=
StepsTypeSetCommand=

[Banner]
ScrollRandom=false
ScrollRoulette=true

[GrooveRadar]
#we don't use the groove radar labels but these metrics aren't provided by fallback -FlameyBoy
#the labels coords change where the corners of the radar values are -Inorizushi
#Stream
Label1X=8
Label1Y=-98
#Voltage
Label2X=-101
Label2Y=-30
#Air
Label3X=-80
Label3Y=72
#Frezze
Label4X=104
Label4Y=72
#Chaos
Label5X=116
Label5Y=-30

RadarValueMapP1OnCommand=diffuse,PlayerColor(PLAYER_1);glowshift;effectcolor1,PlayerColor(PLAYER_1);effectcolor2,color "#FFFFFF"
RadarValueMapP2OnCommand=diffuse,PlayerColor(PLAYER_2);glowshift;effectcolor1,PlayerColor(PLAYER_2);effectcolor2,color "#FFFFFF"
EdgeWidth=0
CenterAlpha=0

[ModIcon]
TextOnCommand=zoom,0.5;maxwidth,70;uppercase,true;shadowlength,0;
CropTextToWidth=32
StopWords="1X,default,Overhead,Off,Normal,nomines"

[ModIconSelectMusic]
Fallback="ModIcon"
TextX=
TextY=
TextOnCommand=zoom,0.8;maxwidth,14;uppercase,true

[ModIconRowSelectMusic]
Fallback="ModIconRow"
NumModIcons=7
SpacingX=80
SpacingY=0
ModIconMetricsGroup="ModIconSelectMusic"

[ModIconRowSelectMusicP1]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="ModIconSelectMusicP1"

[ModIconRowSelectMusicP2]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="ModIconSelectMusicP2"

[ModIconSelectMusicP1]
Fallback="ModIconSelectMusic"

[ModIconSelectMusicP2]
Fallback="ModIconSelectMusic"

[ScreenSelectCourse]
Fallback="ScreenSelectMusic"
ShowSortDisplay=false

ExplanationX=SCREEN_RIGHT-160
ExplanationY=SCREEN_CENTER_Y+80
ExplanationOnCommand=visible,false
ExplanationOffCommand=

MusicWheelOnCommand=visible,false

#Banner
BannerFrameX=SCREEN_RIGHT-152
BannerFrameY=SCREEN_CENTER_Y-58
BannerFrameOnCommand=draworder,1;zoomx,-1;addx,400;sleep,0.264;decelerate,0.52;addx,-400;
BannerFrameOffCommand=sleep,0.033;accelerate,0.33;addx,400

BannerX=SCREEN_RIGHT-141
BannerY=SCREEN_CENTER_Y-139
BannerOnCommand=draworder,22;scaletoclipped,256,80;addx,400;sleep,0.264;decelerate,0.52;addx,-400
BannerOffCommand=sleep,0.033;accelerate,0.33;addx,400

ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

ShowStyleIcon=true
StyleIconX=SCREEN_RIGHT-33
StyleIconY=SCREEN_CENTER_Y-85
StyleIconOnCommand=draworder,90;addx,400;sleep,0.264;decelerate,0.52;addx,-400
StyleIconOffCommand=sleep,0.033;accelerate,0.33;addx,400


NumCourseStagesX=SCREEN_CENTER_X-9999
NumCourseStagesY=SCREEN_CENTER_Y-9999
NumCourseStagesOnCommand=draworder,82;shadowlength,0;addx,-SCREEN_WIDTH;bounceend,0.5;addx,SCREEN_WIDTH
NumCourseStagesOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH

CourseTimeX=SCREEN_CENTER_X-9999
CourseTimeY=SCREEN_CENTER_Y-9999
CourseTimeOnCommand=draworder,82;shadowlength,0;addx,-SCREEN_WIDTH;bounceend,0.5;addx,SCREEN_WIDTH
CourseTimeOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH

CourseContentsListX=SCREEN_LEFT+151
CourseContentsListY=SCREEN_CENTER_Y-20
CourseContentsListOnCommand=draworder,1;halign,0;valign,0;cropbottom,0.55;addx,-400;sleep,0.264;decelerate,0.52;addx,400;sleep,0.1;linear,0;cropbottom,0
CourseContentsListOffCommand=sleep,0.033;accelerate,0.33;addx,-400
CourseContentsListShowCommand=bouncebegin,0.3;zoomy,1
CourseContentsListHideCommand=linear,0.3;zoomy,0

[ScreenGameplay]
StartGivesUp=true

# what the hell is the point of this metric anyways
StopCourseEarly=false

# this value should match 3.9's ScreenGameplay.cpp:
MinSecondsToStepNextSong=2.0

# in 3.9 this is:
# (gameplay in length) + (gameplay ready length) + (gameplay go length) + 2
MinSecondsToStep=5.496
# in 3.9 this is the start of gameplay ready.
MinSecondsToMusic=1.55

# used exclusively in ScreenGameplay::GetMusicEndTiming
OutTransitionLength=5
# how long the course "next song" transition takes.
CourseTransitionLength=6

# unsure.
MusicFadeOutSeconds=0.5
BeginFailedDelay=1.0

ShowCreditDisplay=true

#PlayerP1OnePlayerOneSideX=SCREEN_LEFT+213
#PlayerP2OnePlayerOneSideX=SCREEN_CENTER_X+178
#PlayerP1TwoPlayersTwoSidesX=SCREEN_LEFT+213
#PlayerP2TwoPlayersTwoSidesX=SCREEN_CENTER_X+178

PlayerP1OnePlayerOneSideX=ScreenGameplay_P1X()
PlayerP2OnePlayerOneSideX=ScreenGameplay_P2X()
PlayerP1TwoPlayersTwoSidesX=ScreenGameplay_P1X()
PlayerP2TwoPlayersTwoSidesX=ScreenGameplay_P2X()
PlayerP1TwoPlayersOneSideX=ScreenGameplay_P1X()
PlayerP2TwoPlayersOneSideX=ScreenGameplay_P2X()

PlayerP1OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP2OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP1TwoPlayersSharedSidesX=SCREEN_CENTER_X
PlayerP2TwoPlayersSharedSidesX=SCREEN_CENTER_X

ShowStageNumber=GAMESTATE:IsCourseMode()
StageNumberP1X=SCREEN_CENTER_X
StageNumberP1Y=SCREEN_TOP+35
StageNumberP1OnCommand=draworder,99;zoom,0.6
StageNumberP1OffCommand=
StageNumberP2X=SCREEN_CENTER_X
StageNumberP2Y=SCREEN_TOP+35
StageNumberP2OnCommand=draworder,99;zoom,0.6
StageNumberP2OffCommand=

ShowStageFrame=true
StageFrameX=SCREEN_CENTER_X
StageFrameY=SCREEN_TOP+26
StageFrameOnCommand=draworder,1
StageFrameOffCommand=

ShowLifeMeterForDisabledPlayers=false
LifeFrameX=SCREEN_CENTER_X
LifeFrameY=SCREEN_TOP+26
LifeFrameOnCommand=draworder,98;zoomy,1.1
LifeFrameOffCommand=sleep,0.792;addy,999
#--#
LifeP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")+3
LifeP1Y=SCREEN_TOP+25
LifeP1OnCommand=draworder,2
LifeP1OffCommand=sleep,0.792;addy,999
LifeP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")-3
LifeP2Y=SCREEN_TOP+25
LifeP2OnCommand=draworder,2;zoomx,-1
LifeP2OffCommand=sleep,0.792;addy,999

CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+25
CombinedLifeOnCommand=draworder,1
CombinedLifeOffCommand=sleep,0.792;addy,999

ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X+2
StageDisplayY=SCREEN_TOP+32
StageDisplayOnCommand=draworder,4
StageDisplayOffCommand=
StageDisplayUseShortString=true

PlayerOptionsP1X=SCREEN_CENTER_X-80
PlayerOptionsP1Y=SCREEN_BOTTOM-34
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP1OffCommand=
PlayerOptionsP2X=SCREEN_CENTER_X-80
PlayerOptionsP2Y=SCREEN_BOTTOM-34
PlayerOptionsP2OnCommand=visible,false
PlayerOptionsP2OffCommand=
StopWords="1X,default,Overhead,Off"

ShowScoreFrame=true
ScoreFrameX=
ScoreFrameY=SCREEN_BOTTOM-36
ScoreFrameOnCommand=draworder,2
ScoreFrameOffCommand=sleep,0.792;addy,999
#--#
ScoreP1X=SCREEN_LEFT+95
ScoreP1Y=SCREEN_BOTTOM-34
ScoreP1OnCommand=draworder,2;zoom,1.2;diffuse,color("#F9FF20");
ScoreP1OffCommand=sleep,0.792;addy,999
ScoreP2X=SCREEN_RIGHT-95
ScoreP2Y=SCREEN_BOTTOM-34
ScoreP2OnCommand=draworder,2;zoom,1.2;diffuse,color("#F9FF20");
ScoreP2OffCommand=sleep,0.792;addy,999
#--#
StepsDisplayP1X=SCREEN_LEFT+75
StepsDisplayP1Y=0
StepsDisplayP1OnCommand=draworder,2;horizalign,left
StepsDisplayP1OffCommand=
StepsDisplayP1SetNoReverseCommand=y,SCREEN_BOTTOM-20;cropbottom,0.5
StepsDisplayP1SetReverseCommand=y,SCREEN_TOP+20;croptop,0.5

StepsDisplayP2X=SCREEN_RIGHT-75
StepsDisplayP2Y=0
StepsDisplayP2OnCommand=draworder,2;horizalign,left
StepsDisplayP2OffCommand=
StepsDisplayP2SetNoReverseCommand=y,SCREEN_BOTTOM-20;cropbottom,0.5
StepsDisplayP2SetReverseCommand=y,SCREEN_TOP+20;croptop,0.5

SecondaryScoreP1X=SCREEN_CENTER_X
SecondaryScoreP1Y=SCREEN_TOP+80
SecondaryScoreP1OnCommand=
SecondaryScoreP1OffCommand=
SecondaryScoreP2X=SCREEN_CENTER_X
SecondaryScoreP2Y=SCREEN_TOP+80
SecondaryScoreP2OnCommand=
SecondaryScoreP2OffCommand=

[ScoreDisplayRave]
MeterP1OnCommand=x,-22;y,8
MeterP2OnCommand=zoomx,-1;x,22;y,8

LevelP1OnCommand=addy,-140;
LevelP2OnCommand=addy,-140;

[StepsDisplay]
#i hate stepsdisplay -FlameyBoy
ShowDescription=false

[Player]
#BrightGhostComboThreshold=99999
ReceptorArrowsYStandard=-156
ReceptorArrowsYReverse=128
 
[Judgment]
JudgmentOnCommand=shadowlength,0;

JudgmentW1Command=stopeffect;diffusealpha,1;zoom,1.3;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0
JudgmentW2Command=stopeffect;diffusealpha,1;zoom,1.3;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0
JudgmentW3Command=stopeffect;diffusealpha,1;zoom,1.2;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0
JudgmentW4Command=stopeffect;diffusealpha,1;zoom,1.1;linear,0.05;zoom,1;sleep,0.8;linear,0;diffusealpha,0
JudgmentW5Command=diffusealpha,1;zoom,1.0;wag;effectmagnitude,8,0,0;effectperiod,0.5;sleep,0.8;linear,0;diffusealpha,0
JudgmentMissCommand=stopeffect;diffusealpha,1;zoom,1;addy,-20;linear,0.8;addy,20;sleep,0.8;linear,0;diffusealpha,0

[HoldJudgment]
HoldJudgmentLetGoCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoom,1;sleep,0.6;diffusealpha,0
HoldJudgmentHeldCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoomy,1.5;zoomx,1.2;sleep,0.016;linear,0.033;zoom,1;sleep,0.55;linear,0;diffusealpha,0

# todo: fix this
[Combo]
ShowComboAt=4
ShowMissesAt=-1

NumberOnCommand=y,20;align,1,1;shadowlength,4
LabelOnCommand=x,6;y,20;align,0,1;shadowlength,4

PulseCommand=%function(self,param) self:stoptweening(); self:zoom(1.4*param.Zoom); self:linear(0.05); self:zoom(param.Zoom); end
PulseLabelCommand=%function(self,param) self:stoptweening(); self:zoom(1.4*param.LabelZoom); self:linear(0.05); self:zoom(param.LabelZoom); end

NumberMinZoom=1
NumberMaxZoom=1
NumberMaxZoomAt=100

LabelMinZoom=1.0
LabelMaxZoom=1.0

[RollingNumbers]
TextFormat="%07.0f"
ApproachSeconds=0.1
Commify=true
LeadingZeroMultiplyColor=color("#777777FF")

[StreamDisplay]
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems)self:setsize((SCREEN_WIDTH/2.53),13)self:x((itemIndex-(numItems/2)));end

TextureCoordScaleX=-1
NumPills=1

[StepsDisplayGameplay]
Fallback="StepsDisplay"
ShowTicks=false
ShowAutogen=false
ShowStepsType=false
ShowMeter=false

ShowFrame=true
FrameX=0
FrameY=0
FrameOnCommand=animate,false
FrameLoadCommand=%function(self,param) \
	if param.PlayerState then \
		local pn = param.PlayerState:GetPlayerNumber(); \
		self:setstate(LoadStepsDisplayGameplayFrame(self,pn)) \
	end; \
end;
# thanks default theme, I need to *not* color this.
FrameSetCommand=visible,true

[CombinedLifeMeterTug]
MeterWidth=618
MeterHeight=13

[LifeMeterBattery]
BatteryBlinkTime=1.2

BatteryP1X=WideScale(-95,-95)
BatteryP1Y=0
BatteryP1OnCommand=draworder,99
BatteryP2X=WideScale(95,95)
BatteryP2Y=0
BatteryP2OnCommand=draworder,99;zoomx,-1

# hacks, all of them.
NumLivesFormat=""
NumLivesP1X=-92
NumLivesP1Y=0
NumLivesP1OnCommand=visible,false
NumLivesP2X=92
NumLivesP2Y=0
NumLivesP2OnCommand=visible,false
# oni score


[ScreenGameplayExtra]
Fallback="ScreenGameplay"

StageFrameX=SCREEN_CENTER_X
StageFrameY=SCREEN_BOTTOM-26
StageFrameOnCommand=draworder,1
StageFrameOffCommand=

ScoreFrameX=
ScoreFrameY=SCREEN_TOP+36
ScoreFrameOnCommand=draworder,2;zoomy,-1
ScoreFrameOffCommand=sleep,0.792;addy,999
#--#
ScoreP1X=SCREEN_LEFT+95
ScoreP1Y=SCREEN_TOP+34
ScoreP1OnCommand=draworder,2;zoom,1.2;diffuse,color("#F9FF20");
ScoreP1OffCommand=sleep,0.792;addy,999
ScoreP2X=SCREEN_RIGHT-95
ScoreP2Y=SCREEN_TOP+34
ScoreP2OnCommand=draworder,2;zoom,1.2;diffuse,color("#F9FF20");
ScoreP2OffCommand=sleep,0.792;addy,999

# difficulty icon
StepsDisplayP1SetReverseCommand=y,SCREEN_TOP+11;x,SCREEN_LEFT+75
StepsDisplayP2SetReverseCommand=y,SCREEN_TOP+11;x,SCREEN_RIGHT-75

# life section on bottom
LifeFrameX=SCREEN_CENTER_X
LifeFrameY=SCREEN_BOTTOM-26
LifeFrameOnCommand=draworder,98;zoomy,-1
LifeFrameOffCommand=sleep,0.792;addy,999
#--#
LifeP1X=SCREEN_CENTER_X-172
LifeP1Y=SCREEN_BOTTOM-25
LifeP1OnCommand=draworder,2
LifeP1OffCommand=sleep,0.792;addy,999
LifeP2X=SCREEN_CENTER_X+172
LifeP2Y=SCREEN_BOTTOM-25
LifeP2OnCommand=draworder,2;zoomx,-1
LifeP2OffCommand=sleep,0.792;addy,999

StageDisplayX=SCREEN_CENTER_X+2
StageDisplayY=SCREEN_BOTTOM-32
StageDisplayOnCommand=draworder,4
StageDisplayOffCommand=
StageDisplayUseShortString=true

################################################################################
[ScreenEvaluation]
ShowFooter=true
ShowStyleIcon=true
WaitForChildrenBeforeTweeningOut=true
TimerSeconds=15

ShowHeader=true
HeaderY=SCREEN_TOP+38
HeaderOffCommand=decelerate,0.2;addy,-76
HeaderOnCommand=draworder,88;halign,0;addy,-76;sleep,0.264;decelerate,0.2;addy,76

StyleIconOffCommand=sleep,0.1;linear,0.1;zoomy,0
StyleIconOnCommand=draworder,96;zoomy,0;sleep,0.2;sleep,0.1;linear,0.1;zoomy,1
StyleIconX=SCREEN_CENTER_X-110
StyleIconY=SCREEN_CENTER_Y-80

ShowBannerArea=true
BannerWidth=256
BannerHeight=80
LargeBannerX=SCREEN_CENTER_X
LargeBannerY=SCREEN_CENTER_Y-135
LargeBannerOnCommand=draworder,60;zoomy,0;sleep,0.2;sleep,0.1;linear,0.1;zoomy,1
LargeBannerOffCommand=sleep,0.1;linear,0.1;zoomy,0
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y-129
LargeBannerFrameOnCommand=draworder,61;zoomy,0;sleep,0.2;sleep,0.1;linear,0.1;zoomy,1
LargeBannerFrameOffCommand=sleep,0.1;linear,0.1;zoomy,0

ShowStageDisplay=not GAMESTATE:IsCourseMode()
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_CENTER_Y-80
StageDisplayOnCommand=draworder,62;zoomy,0;addy,-39;sleep,0.2;sleep,0.1;linear,0.1;zoomy,1;addy,39
StageDisplayOffCommand=sleep,0.1;linear,0.1;zoomy,0;addy,-39

ShowDifficultyIcon=not GAMESTATE:IsCourseMode()
DifficultyIconP1X=SCREEN_CENTER_X-239
DifficultyIconP1Y=SCREEN_CENTER_Y-139
DifficultyIconP1OnCommand=draworder,99;addx,-246;sleep,0.2;linear,0.2;addx,246
DifficultyIconP1OffCommand=linear,0.2;addx,-246
DifficultyIconP2X=SCREEN_CENTER_X+108
DifficultyIconP2Y=SCREEN_CENTER_Y-138
DifficultyIconP2OnCommand=draworder,99;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
DifficultyIconP2OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT

PlayerOptionsP1X=SCREEN_CENTER_X-304
PlayerOptionsP1Y=SCREEN_CENTER_Y-191
PlayerOptionsP1OnCommand=diffuse,color("#52A5DB");maxwidth,410;horizalign,left;vertalign,top;zoom,0.7;draworder,9;addx,-350;sleep,0.2;linear,0.2;addx,350
PlayerOptionsP1OffCommand=linear,0.2;addx,-350
PlayerOptionsP2X=SCREEN_CENTER_X-304
PlayerOptionsP2Y=SCREEN_CENTER_Y-203
PlayerOptionsP2OnCommand=diffuse,color("#D54F50");maxwidth,410;horizalign,left;vertalign,top;zoom,0.7;draworder,9;addx,-350;sleep,0.2;linear,0.2;addx,350
PlayerOptionsP2OffCommand=linear,0.2;addx,-350

ShowGradeArea=true
GradeFrameP1X=SCREEN_CENTER_X
GradeFrameP1Y=SCREEN_CENTER_Y+35
GradeFrameP1OnCommand=diffusealpha,0.5;addx,-348;zoomy,0;sleep,0.2;linear,0.2;zoomy,1;addx,348
GradeFrameP1OffCommand=linear,0.2;zoomy,0;addx,-348
GradeFrameP2X=SCREEN_CENTER_X
GradeFrameP2Y=SCREEN_CENTER_Y+35
GradeFrameP2OnCommand=diffusealpha,0.5;addx,272;zoomy,0;sleep,0.2;linear,0.2;zoomy,1;addx,-272
GradeFrameP2OffCommand=linear,0.2;zoomy,0;addx,272
GradeP1X=SCREEN_CENTER_X-233
GradeP1Y=SCREEN_CENTER_Y-121
GradeP1OnCommand=zoom,0;sleep,0.6;linear,0.1;zoom,1
GradeP1OffCommand=linear,0.1;zoom,0
GradeP2X=SCREEN_CENTER_X+230
GradeP2Y=SCREEN_CENTER_Y-121
GradeP2OnCommand=zoom,0;sleep,0.6;linear,0.1;zoom,1
GradeP2OffCommand=linear,0.1;zoom,0

ShowSharedJudgmentLineLabels=true

ShowJudgmentLineW1=true
W1LabelX=SCREEN_CENTER_X
W1LabelY=SCREEN_CENTER_Y-44
W1LabelOnCommand=zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W1LabelOffCommand=linear,0.2;zoomy,0
#--#
W1NumberP1X=SCREEN_CENTER_X-123
W1NumberP1Y=SCREEN_CENTER_Y-44
W1NumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W1NumberP1OffCommand=linear,0.2;zoomy,0
W1NumberP2X=SCREEN_CENTER_X+124
W1NumberP2Y=SCREEN_CENTER_Y-44
W1NumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W1NumberP2OffCommand=linear,0.2;zoomy,0

ShowJudgmentLineW2=true
W2LabelX=SCREEN_CENTER_X
W2LabelY=SCREEN_CENTER_Y-22
W2LabelOnCommand=zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W2LabelOffCommand=linear,0.2;zoomy,0
#--#
W2NumberP1X=SCREEN_CENTER_X-123
W2NumberP1Y=SCREEN_CENTER_Y-22
W2NumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W2NumberP1OffCommand=linear,0.2;zoomy,0
W2NumberP2X=SCREEN_CENTER_X+124
W2NumberP2Y=SCREEN_CENTER_Y-22
W2NumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W2NumberP2OffCommand=linear,0.2;zoomy,0

ShowJudgmentLineW3=true
W3LabelX=SCREEN_CENTER_X
W3LabelY=SCREEN_CENTER_Y
W3LabelOnCommand=vertalign,bottom;zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W3LabelOffCommand=linear,0.2;zoomy,0
#--#
W3NumberP1X=SCREEN_CENTER_X-123
W3NumberP1Y=SCREEN_CENTER_Y
W3NumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W3NumberP1OffCommand=linear,0.2;zoomy,0
W3NumberP2X=SCREEN_CENTER_X+124
W3NumberP2Y=SCREEN_CENTER_Y
W3NumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W3NumberP2OffCommand=linear,0.2;zoomy,0

ShowJudgmentLineW4=true
W4LabelX=SCREEN_CENTER_X
W4LabelY=SCREEN_CENTER_Y+22
W4LabelOnCommand=valign,1;zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W4LabelOffCommand=linear,0.2;zoomy,0
#--#
W4NumberP1X=SCREEN_CENTER_X-123
W4NumberP1Y=SCREEN_CENTER_Y+22
W4NumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W4NumberP1OffCommand=linear,0.2;zoomy,0
W4NumberP2X=SCREEN_CENTER_X+124
W4NumberP2Y=SCREEN_CENTER_Y+22
W4NumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W4NumberP2OffCommand=linear,0.2;zoomy,0

ShowJudgmentLineW5=true
W5LabelX=SCREEN_CENTER_X
W5LabelY=SCREEN_CENTER_Y+43
W5LabelOnCommand=valign,0;zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W5LabelOffCommand=linear,0.2;zoomy,0
#--#
W5NumberP1X=SCREEN_CENTER_X-123
W5NumberP1Y=SCREEN_CENTER_Y+44
W5NumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W5NumberP1OffCommand=linear,0.2;zoomy,0
W5NumberP2X=SCREEN_CENTER_X+124
W5NumberP2Y=SCREEN_CENTER_Y+44
W5NumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
W5NumberP2OffCommand=linear,0.2;zoomy,0

ShowJudgmentLineMiss=true
MissLabelX=SCREEN_CENTER_X
MissLabelY=SCREEN_CENTER_Y+65
MissLabelOnCommand=valign,0;zoomy,0;sleep,0.2;linear,0.2;zoomy,1
MissLabelOffCommand=linear,0.2;zoomy,0
#--#
MissNumberP1X=SCREEN_CENTER_X-123
MissNumberP1Y=SCREEN_CENTER_Y+66
MissNumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
MissNumberP1OffCommand=linear,0.2;zoomy,0
MissNumberP2X=SCREEN_CENTER_X+124
MissNumberP2Y=SCREEN_CENTER_Y+66
MissNumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
MissNumberP2OffCommand=linear,0.2;zoomy,0

ShowJudgmentLineHeld=true
HeldLabelX=SCREEN_CENTER_X
HeldLabelY=SCREEN_CENTER_Y+87
HeldLabelOnCommand=valign,0;zoomy,0;sleep,0.2;linear,0.2;zoomy,1
HeldLabelOffCommand=linear,0.2;zoomy,0
#--#
HeldNumberP1X=SCREEN_CENTER_X-123
HeldNumberP1Y=SCREEN_CENTER_Y+88
HeldNumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
HeldNumberP1OffCommand=linear,0.2;addy,-48;zoomy,0
HeldNumberP2X=SCREEN_CENTER_X+124
HeldNumberP2Y=SCREEN_CENTER_Y+88
HeldNumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
HeldNumberP2OffCommand=linear,0.2;zoomy,0

ShowJudgmentLineMaxCombo=true
MaxComboMaxDigits=4
MaxComboLabelX=SCREEN_CENTER_X
MaxComboLabelY=SCREEN_CENTER_Y+109
MaxComboLabelOnCommand=valign,0;zoomy,0;sleep,0.2;linear,0.2;zoomy,1
MaxComboLabelOffCommand=linear,0.2;zoomy,0
#--#
MaxComboNumberP1X=SCREEN_CENTER_X-123
MaxComboNumberP1Y=SCREEN_CENTER_Y+110
MaxComboNumberP1OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
MaxComboNumberP1OffCommand=linear,0.2;zoomy,0
MaxComboNumberP2X=SCREEN_CENTER_X+124
MaxComboNumberP2Y=SCREEN_CENTER_Y+110
MaxComboNumberP2OnCommand=diffuse,color("#FFFFFF");zoomy,0;sleep,0.2;linear,0.2;zoomy,1
MaxComboNumberP2OffCommand=linear,0.2;zoomy,0

ShowScoreArea=true
ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_CENTER_Y-204
ScoreLabelOnCommand=blend,Blend.Add;;diffuse,color("#FFFFFF");spin;effectmagnitude,0,0,-200;draworder,97;shadowlength,0;addy,-104;sleep,0.2;decelerate,0.2;addy,104
ScoreLabelOffCommand=stopeffect;decelerate,0.2;addy,-104
#--#
ScoreNumberP1X=SCREEN_LEFT+100
ScoreNumberP1Y=SCREEN_CENTER_Y+155
ScoreNumberP1OnCommand=draworder,88;diffuse,color("#F9FF20");draworder,9;addx,-246;sleep,0.2;linear,0.2;addx,246
ScoreNumberP1OffCommand=linear,0.2;addx,-246
ScoreNumberP2X=SCREEN_RIGHT-100
ScoreNumberP2Y=SCREEN_CENTER_Y+155
ScoreNumberP2OnCommand=draworder,88;diffuse,color("#F9FF20");draworder,9;addx,246;sleep,0.2;linear,0.2;addx,-246
ScoreNumberP2OffCommand=linear,0.2;addx,246

ShowBonusArea=false

ShowMachineRecord=true
MachineRecordP1X=SCREEN_CENTER_X-150
MachineRecordP1Y=SCREEN_CENTER_Y+96
MachineRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP1OffCommand=linear,0.7;diffusealpha,0

MachineRecordP2X=SCREEN_CENTER_X+150
MachineRecordP2Y=SCREEN_CENTER_Y+96
MachineRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP2OffCommand=linear,0.7;diffusealpha,0

ShowPersonalRecord=true
PersonalRecordP1X=SCREEN_CENTER_X-150
PersonalRecordP1Y=SCREEN_CENTER_Y+96
PersonalRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP1OffCommand=linear,0.7;diffusealpha,0

PersonalRecordP2X=SCREEN_CENTER_X+150
PersonalRecordP2Y=SCREEN_CENTER_Y+96
PersonalRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP2OffCommand=linear,0.7;diffusealpha,0
----------------------------------------
# only used in normal mode
ShowTryExtraStage=false
TryExtraStageX=SCREEN_CENTER_X
TryExtraStageY=SCREEN_CENTER_Y+165
TryExtraStageOnCommand=addx,482;sleep,1.023;decelerate,0.520;addx,-482;glowshift;effectperiod,0.4;effectcolor1,0,0,0,0;effectcolor2,0,0,0,0.3
TryExtraStageOffCommand=sleep,0.750;diffusealpha,0

# used in two of three course mode evals (and extra stage)
ShowTimeArea=false
TimeLabelX=SCREEN_CENTER_X
TimeLabelY=SCREEN_CENTER_Y+115
TimeLabelOnCommand=addy,138;sleep,0.866;decelerate,0.116;addy,-138
TimeLabelOffCommand=sleep,0.016;accelerate,0.116;addy,138
#--#
TimeNumberP1X=SCREEN_CENTER_X-160
TimeNumberP1Y=SCREEN_CENTER_Y+140
TimeNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,SCREEN_CENTER_X
TimeNumberP1OffCommand=sleep,0.0;accelerate,0.3;addx,-SCREEN_CENTER_X
TimeNumberP2X=SCREEN_CENTER_X+160
TimeNumberP2Y=SCREEN_CENTER_Y+140
TimeNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);addx,SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,-SCREEN_CENTER_X
TimeNumberP2OffCommand=sleep,0.0;accelerate,0.3;addx,SCREEN_CENTER_X

ShowPointsArea=false
PercentFrameP1X=SCREEN_CENTER_X-224
PercentFrameP1Y=SCREEN_CENTER_Y-130
PercentFrameP1OnCommand=addx,-SCREEN_CENTER_X;sleep,0.0;decelerate,0.3;addx,SCREEN_CENTER_X
PercentFrameP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_CENTER_X
PercentFrameP2X=SCREEN_CENTER_X+224
PercentFrameP2Y=SCREEN_CENTER_Y-130
PercentFrameP2OnCommand=addx,SCREEN_CENTER_X;sleep,0.0;decelerate,0.3;addx,-SCREEN_CENTER_X
PercentFrameP2OffCommand=sleep,0.8;accelerate,0.3;addx,SCREEN_CENTER_X

PercentP1X=SCREEN_CENTER_X-208
PercentP1Y=SCREEN_CENTER_Y-105
PercentP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PercentP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_CENTER_X
PercentP2X=SCREEN_CENTER_X+240
PercentP2Y=SCREEN_CENTER_Y-105
PercentP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PercentP2OffCommand=sleep,0.8;accelerate,0.3;addx,SCREEN_CENTER_X

## used in all three course mode evals; putting metrics here
ShowSurvivedArea=false
SurvivedFrameP1X=SCREEN_CENTER_X-200
SurvivedFrameP1Y=SCREEN_CENTER_Y+16
SurvivedFrameP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP1OffCommand=linear,0.7;diffusealpha,0
SurvivedFrameP2X=SCREEN_CENTER_X+200
SurvivedFrameP2Y=SCREEN_CENTER_Y+16
SurvivedFrameP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP2OffCommand=linear,0.7;diffusealpha,0

SurvivedNumberP1X=SCREEN_CENTER_X-224
SurvivedNumberP1Y=SCREEN_CENTER_Y-20
SurvivedNumberP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
SurvivedNumberP1OffCommand=linear,0.7;diffusealpha,0
SurvivedNumberP2X=SCREEN_CENTER_X+220
SurvivedNumberP2Y=SCREEN_CENTER_Y-20
SurvivedNumberP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
SurvivedNumberP2OffCommand=linear,0.7;diffusealpha,0

# Song options
SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_CENTER_Y-188
SongOptionsOnCommand=draworder,99;shadowlength,1;zoomy,0;linear,0.5;zoom,0.5
SongOptionsOffCommand=linear,0.5;zoomy,0

#=======================#
[ScreenEvaluationNormal]
ShowRecordDisplays=true

ShowMachineRecord=true
MachineRecordP1X=SCREEN_CENTER_X-150
MachineRecordP1Y=SCREEN_CENTER_Y+96
MachineRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP1OffCommand=linear,0.7;diffusealpha,0
MachineRecordP2X=SCREEN_CENTER_X+150
MachineRecordP2Y=SCREEN_CENTER_Y+96
MachineRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP2OffCommand=linear,0.7;diffusealpha,0

ShowPersonalRecord=true
PersonalRecordP1X=SCREEN_CENTER_X-150
PersonalRecordP1Y=SCREEN_CENTER_Y+96
PersonalRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP1OffCommand=linear,0.7;diffusealpha,0
PersonalRecordP2X=SCREEN_CENTER_X+150
PersonalRecordP2Y=SCREEN_CENTER_Y+96
PersonalRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP2OffCommand=linear,0.7;diffusealpha,0

[ScreenEvaluationOni]
Fallback="ScreenEvaluation"
NextScreen="ScreenNameEntry"

[ScreenEvaluationRave]
Fallback="ScreenEvaluation"

[ScreenEvaluationSummary]
Fallback="ScreenEvaluation"
NextScreen="ScreenNameEntry"

Summary=true
ShowStyleIcon=true
ShowStageDisplay=false
ShowDifficultyIcon=false
ShowTryExtraStage=true

ShowScoreArea=true
ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_CENTER_Y+110
ScoreLabelOnCommand=addy,SCREEN_HEIGHT;sleep,0.8;decelerate,0.3;addy,-SCREEN_HEIGHT
ScoreLabelOffCommand=sleep,0.0;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
ScoreNumberP1X=SCREEN_CENTER_X-160
ScoreNumberP1Y=SCREEN_CENTER_Y+110
ScoreNumberP1OnCommand=zoom,0.9;draworder,90;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,SCREEN_CENTER_X
ScoreNumberP1OffCommand=sleep,0.0;accelerate,0.3;addx,-SCREEN_CENTER_X
ScoreNumberP2X=SCREEN_CENTER_X+160
ScoreNumberP2Y=SCREEN_CENTER_Y+110
ScoreNumberP2OnCommand=zoom,0.9;draworder,90;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,-SCREEN_CENTER_X
ScoreNumberP2OffCommand=sleep,0.0;accelerate,0.3;addx,SCREEN_CENTER_X

#--Banner--#

SmallBanner1X=SCREEN_CENTER_X-60
SmallBanner1Y=SCREEN_CENTER_Y-155
SmallBanner1OnCommand=visible,true;draworder,100;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner1OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner2X=SCREEN_CENTER_X-30
SmallBanner2Y=SCREEN_CENTER_Y-145
SmallBanner2OnCommand=visible,true;draworder,80;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner2OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner3X=SCREEN_CENTER_X
SmallBanner3Y=SCREEN_CENTER_Y-135
SmallBanner3OnCommand=visible,true;draworder,60;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner3OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner4X=SCREEN_CENTER_X+30
SmallBanner4Y=SCREEN_CENTER_Y-125
SmallBanner4OnCommand=visible,true;draworder,40;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner4OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#
SmallBanner5X=SCREEN_CENTER_X+60
SmallBanner5Y=SCREEN_CENTER_Y-115
SmallBanner5OnCommand=visible,true;draworder,20;zoom,0.5;addy,SCREEN_HEIGHT;sleep,0.0;decelerate,0.3;addy,-SCREEN_HEIGHT
SmallBanner5OffCommand=sleep,0.8;accelerate,0.3;addy,SCREEN_HEIGHT
#--#

[ScreenNameEntry]
Class="ScreenNameEntry"
NextScreen="ScreenCredits"
CancelTransitionsOut=true

TimerSeconds=30
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_CENTER_Y-117
ForceTimer=true
ForceTimerWait=true
PlayMusic=true
RepeatRate=15
RepeateDelay=1/4
HelpText="Enter your name!"
#
CategoryY=SCREEN_CENTER_Y+123
CategoryZoom=0.7
#
CharsZoomSmall=1.0
CharsZoomLarge=1.4
CharsSpacingY=43
CharsChoices="    ABCDEFGHIJKLMNOPQRSTUVWXYZ"
ScrollingCharsCommand=diffuse,#00FAAA
SelectedCharsCommand=diffuse,#00FAAA
#
ReceptorArrowsY=SCREEN_CENTER_Y-150
NumCharsToDrawBehind=1
NumCharsToDrawTotal=10
FakeBeatsPerSec=2.5
ForceTimer=true
TimerSeconds=60
TimerStealth=true
ShowStyleIcon=false
MaxRankingNameLength=4
#
PlayerP1OnePlayerOneSideX=SCREEN_CENTER_X-160
PlayerP2OnePlayerOneSideX=SCREEN_CENTER_X+160
PlayerP1TwoPlayersTwoSidesX=SCREEN_CENTER_X-160
PlayerP2TwoPlayersTwoSidesX=SCREEN_CENTER_X+160
PlayerP1OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP2OnePlayerTwoSidesX=SCREEN_CENTER_X

[ScreenCredits]
TimerSeconds=96
ResetGameState=false

[ScreenProfileLoad]
NextScreen="ScreenSelectPlayMode"
ShowHeader=false
ShowFooter=false
# profile saved on exiting summary screen
[ScreenProfileSaveSummary]
Fallback="ScreenProfileSave"

[ScreenGameOver]
NextScreen="ScreenCompany"
TimerSeconds=2.31
ForceTimer=true
TimerStealth=true

[SNDifficultyList]
StartPositionY = 12
ItemSpacingY = 20
LabelPositionX = -17
TickPositionX = 87
IndicatorWidth=236
IndicatorX=41
GlowIfMeterAbove10 = true
PlayerLabelXOffset = 8

